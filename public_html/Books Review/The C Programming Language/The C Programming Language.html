<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>The C Programming Language Notes</title>
<!-- 2015-03-05 Thu 23:21 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Shi Shougang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link href="../../assets/bootstrap.min.css" rel="stylesheet" media="screen">
<link href="../../assets/bootstrap-responsive.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../assets/stylesheet.css" />
<script src="assets/js/bootstrap.min.js"></script>

<script type="text/javascript" src="assets/js/org-info.js">
/**
 *
 * @source: assets/js/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in assets/js/org-info.js.
 *
 * Copyright (C) 2012-2013 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in assets/js/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "1");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "0");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "#dddddd");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "0");
org_html_manager.set("VIEW", "showall");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">The C Programming Language Notes</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Answers</a></li>
<li><a href="#sec-2">Chapter 1</a></li>
<li><a href="#sec-3">Chapter 2</a></li>
<li><a href="#sec-4">Chapter 4</a></li>
<li><a href="#sec-5">Chapter 5</a></li>
<li><a href="#sec-6">Chapter 6</a></li>
<li><a href="#sec-7">Chapter 7</a></li>
<li><a href="#sec-8">Chapter 8</a></li>
<li><a href="#sec-9">Appendix A: Reference Manual</a></li>
<li><a href="#sec-10">Appendix B - Standard Library</a></li>
</ul>
</div>
</div>
<p>
<a href="http://cm.bell-labs.com/cm/cs/cbook/">The C Programming Language</a>, second edition by <a href="http://www.cs.bell-labs.com/who/bwk/">Kernighan</a> and <a href="http://www.cs.bell-labs.com/who/dmr/">Ritchie</a>.
</p>

<p>
Other people working through the book may be interested in the <a href="http://www.eskimo.com/~scs/cclass/krnotes/top.html">Notes to Accompany The C Programming Language</a> by <a href="http://www.eskimo.com/~scs/">Steve Summit</a>, maintainer of
the <a href="http://c-faq.com/versions.html">comp.lang.c FAQ</a>. Also be aware of the <a href="http://cm.bell-labs.com/cm/cs/cbook/2ediffs.html">errata</a>.
</p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Answers</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>There is a book, <a href="./The C Answer Book.pdf">The C Answer Book by Tondo and Gimpel</a>, that has
answers to these exercises. 
</li>

<li><a href="http://www.bamsoftware.com/computers/tcpl-answers.tar.gz">The answer</a> by <a href="http://www.bamsoftware.com/computers/tcpl-answers.html">bamsoftware</a>.
</li>

<li><a href="http://clc-wiki.net/wiki/K&R2_solutions">Another site</a> (based on an <a href="http://users.powernet.co.uk/eton/kandr2/">older one</a>) that has answers to most of the exercises.
</li>

<li>My answers: <a href="./Files/tcpl-answers-shi.tar.gz">tcpl-answers-shi.tar.gz</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Chapter 1</h2>
<div class="outline-text-2" id="text-2">
</div><ul class="org-ul"><li><a id="sec-2-1" name="sec-2-1"></a>page 5<br  /><div class="outline-text-3" id="text-2-1">
<p>
The only way to learn a new programming language is by writing
programs in it.
</p>
</div>
</li>
<li><a id="sec-2-2" name="sec-2-2"></a>page 11<br  /><div class="outline-text-3" id="text-2-2">
<p>
you must match up the arguments to printf with the conversion specification; the compiler can't (or won't) generally check them for you or fix things up if you get them wrong. If fahr is a float, the code
</p>

<p>
<code>printf("%d\n", fahr);</code>
</p>

<p>
will not work. You might ask, ``Can't the compiler see that %d needs
an integer and fahr is floating-point and do the conversion
automatically, just like in the assignments and comparisons on page
12?'' And the answer is, no. As far as the compiler knows, you've just
passed a character string and some other arguments to printf; it
doesn't know that there's a connection between the arguments and some
special characters inside the string. This is one of the implications
of the fact, stated earlier, that functions like printf are not
special.
</p>
</div>
</li>
<li><a id="sec-2-3" name="sec-2-3"></a>page 15<br  /><div class="outline-text-3" id="text-2-3">
<p>
Notice that there is no semicolon at the end of a #define line.
</p>

<p>
Actually, all lines that begin with # are special; we'll learn more
about them later.
</p>
</div>
</li>
<li><a id="sec-2-4" name="sec-2-4"></a>page 16<br  /><div class="outline-text-3" id="text-2-4">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
c = getchar();
</pre>
</div>
<p>
We must declare <code>c</code> to be a type big enough to hold any value that
<code>getchar</code> returns. We can't use <code>char</code> since <code>c</code> must be big enough to
hold <code>EOF</code> in addition to any possible <code>char</code>. Therefore we use <code>int</code>.
</p>
</div>
</li>
<li><a id="sec-2-5" name="sec-2-5"></a>page 17<br  /><div class="outline-text-3" id="text-2-5">
<p>
The line <code>while ((c = getchar()) !</code> EOF)= epitomizes the cryptic
brevity which C is notorious for. 
</p>

<p>
We have four things to do:
</p>

<ol class="org-ol">
<li>call <code>getchar</code>,
</li>
<li>assign its return value to a variable,
</li>
<li>test the return value against <code>EOF</code>, and
</li>
<li>process the character (in this case, print it again).
</li>
</ol>

<p>
how do you send EOF? The answer depends on what kind of computer
you're using. On Unix and Unix-related systems, it's almost always
control-D. On MS-DOS machines, it's control-Z followed by the RETURN
key. Under Think C on the Macintosh, it's control-D, just like Unix.
On other systems, you may have to do some research to learn how to
send EOF.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Chapter 2</h2>
<div class="outline-text-2" id="text-3">
</div><ul class="org-ul"><li><a id="sec-3-1" name="sec-3-1"></a>page 39<br  /><div class="outline-text-3" id="text-3-1">
<p>
Be careful to distinguish between a character constant and a string
that contains a single character: 'x' is not the same as "x". The
former is an integer used to produce the numeric value of the letter x
in the machine;s character set. The latter is an array of characters
that contains one character( the letter x) and a '\0'.
</p>

<p>
Name in different enumerations must be distinct. Values need not be
distinct in the same enumeration.
</p>
</div>
</li>
<li><a id="sec-3-2" name="sec-3-2"></a>page 40<br  /><div class="outline-text-3" id="text-3-2">
<p>
External and static variables are initialized to zero by default.
</p>
</div>
</li>

<li><a id="sec-3-3" name="sec-3-3"></a>page 41<br  /><div class="outline-text-3" id="text-3-3">
<p>
The % operator cannot be applied to <code>float</code> or <code>double</code>. The direction
of truncation for / and the sign of the result for % are
machine-dependent for negative operands, as is the action taken on
overflow or underflow. This means that -7 / 4 might be -1 or -2, and
-7 % 4 might be -3 or +1. 
</p>
</div>
</li>

<li><a id="sec-3-4" name="sec-3-4"></a>page 44<br  /><div class="outline-text-3" id="text-3-4">
<p>
the lower type is promoted to the higher type, where the order of the
types is 
 <code>char &lt; short int &lt; int &lt; long int &lt; float &lt; double &lt; long double</code>
</p>
</div>
</li>
<li><a id="sec-3-5" name="sec-3-5"></a>page 45<br  /><div class="outline-text-3" id="text-3-5">
<p>
Casts can be a bit confusing at first. A cast is the syntax used to
request an explicit type conversion; coercion is just a more formal
word for ``conversion.'' 
</p>
</div>
</li>
<li><a id="sec-3-6" name="sec-3-6"></a>page 46<br  /><div class="outline-text-3" id="text-3-6">
<p>
The authors point out that an expression like (i+j)++ is illegal, and
it's worth thinking for a moment about why. The ++ operator doesn't
just mean ``add one''; it means ``add one to a variable'' or ``make a
variable's value one more than it was before.'' But (i+j) is not a
variable, it's an expression; so there's no place for ++ to store the
incremented result. 
</p>
</div>
</li>


<li><a id="sec-3-7" name="sec-3-7"></a>page 52 Precedence and Order of Evaluation<br  /><div class="outline-text-3" id="text-3-7">
<p>
To look at one more example, it might seem that the code
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #eedd82;">i</span> = 7;
printf(<span style="color: #ffa07a;">"%d\n"</span>, i++ * i++);
</pre>
</div>
<p>
would have to print 56, because no matter which order the increments
        happen in, 7x8 is 8x7 is 56. But ++ just says that the
        increment happens later, not that it happens immediately, so
        this code could print 49 (if it chose to perform the
        multiplication first, and both increments later). And, it
        turns out that ambiguous expressions like this are such a bad
        idea that the ANSI C Standard does not require compilers to do
        anything reasonable with them at all, such that the above code
        might end up printing 42, or 8923409342, or 0, or crashing
        your computer.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Chapter 4</h2>
<div class="outline-text-2" id="text-4">
</div><ul class="org-ul"><li><a id="sec-4-1" name="sec-4-1"></a>page 77<br  /><div class="outline-text-3" id="text-4-1">
<p>
<code>push(pop() - pop());	/* WRONG */</code>
</p>

<p>
Because + and * are commutative operations, the order in which the
popped operands are combined is irrelevant, but for - and / the left
and right operands must be distinguished. In the above, the order in
which the two calls of <code>pop</code> are evaluated is not defined. To
guarantee the right order, it is necessary to pop the first value into
a temporary variable as we did in = 
</p>
</div>
</li></ul>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Chapter 5</h2>
<div class="outline-text-2" id="text-5">
</div><ul class="org-ul"><li><a id="sec-5-1" name="sec-5-1"></a>page 96<br  /><div class="outline-text-3" id="text-5-1">
<p>
the swap example on page 96 does work.
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">swap1</span>(<span style="color: #98fb98;">int</span> *<span style="color: #eedd82;">q1</span>,<span style="color: #98fb98;">int</span> *<span style="color: #eedd82;">q2</span>)
{
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">temp</span>;
  temp = *q1;
  *q1 = *q2;
  *q2 = temp;
}
</pre>
</div>
<p>
But this swap does not work.
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">swap2</span>(<span style="color: #98fb98;">int</span> *<span style="color: #eedd82;">q1</span>, <span style="color: #98fb98;">int</span> *<span style="color: #eedd82;">q2</span>)
{
  <span style="color: #98fb98;">int</span> *<span style="color: #eedd82;">temp</span>;
  temp = q1;
  q1 = q2;
  q2 = temp;
}
</pre>
</div>
</div>
</li>
<li><a id="sec-5-2" name="sec-5-2"></a>page 99<br  /><div class="outline-text-3" id="text-5-2">
<p>
This explains, among other things, how getline and getop were able to
modify the arrays in the caller, even though we said that
call-by-value meant that functions can't modify variables in their
callers since they receive copies of the parameters. When a function
receives a pointer, it cannot modify the original pointer in the
caller, but it can definitely modify what the pointer points to. 
</p>
</div>
</li>
<li><a id="sec-5-3" name="sec-5-3"></a>page 104<br  /><div class="outline-text-3" id="text-5-3">
<p>
As an example of what we can and can't do, given the lines
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> <span style="color: #eedd82;">amessage</span>[] = <span style="color: #ffa07a;">"now is the time"</span>;
<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">pmessage</span> = <span style="color: #ffa07a;">"now is the time"</span>;
</pre>
</div>
<p>
we could say
</p>
<div class="org-src-container">

<pre class="src src-c">amessage[0] = <span style="color: #ffa07a;">'N'</span>;
</pre>
</div>
<p>
to make amessage say "Now is the time". But if we tried to do
</p>
<div class="org-src-container">

<pre class="src src-c">pmessage[0] = <span style="color: #ffa07a;">'N'</span>;
</pre>
</div>
<p>
(which, as you may recall, is equivalent to =*pmessage = 'N'=), it would
not necessarily work; we're not allowed to modify that string. (One
reason is that the compiler might have placed the ``little block of
characters'' in read-only memory. Another reason is that if we had
written
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">pmessage</span> = <span style="color: #ffa07a;">"now is the time"</span>;
<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">qmessage</span> = <span style="color: #ffa07a;">"now is the time"</span>;
</pre>
</div>
<p>
the compiler might have used the same little block of memory to
initialize both pointers, and we wouldn't want a change to one to
alter the other.) 
</p>
</div>
</li>

<li><a id="sec-5-4" name="sec-5-4"></a>page 112<br  /><div class="outline-text-3" id="text-5-4">
<p class="verse">
More generally, only the first dimension (subscript) of an array is free; all the others have to be specified.<br  />
</p>
<p>
This just says what we said already: when declaring an array as a
function parameter, you can leave off the first dimension because it
is the overall length and not knowing it causes no immediate problems
(unless you accidentally go off the end). But the compiler always
needs to know the other dimensions, so that it knows how the rown and
columns line up.
</p>

<p>
If a two-dimensional array is to be passed to a function, the
parameter declaration in the function must include the number of
columns; the number of rows i irrelevant, since what is passed is, as
before, a pointer to an array of rows, where each row is an array of
13 ints.
</p>
</div>
</li>
<li><a id="sec-5-5" name="sec-5-5"></a>page 120<br  /><div class="outline-text-3" id="text-5-5">
<p>
The generic pointer type void * is used for the pointer
arguments. Any pointer can be cast to void * and back again without
loss of information, so we can call qsort by casting arguments to void
*.
</p>
</div>
</li></ul>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Chapter 6</h2>
<div class="outline-text-2" id="text-6">
</div><ul class="org-ul"><li><a id="sec-6-1" name="sec-6-1"></a>page 135<br  /><div class="outline-text-3" id="text-6-1">
<p>
<code>sizeof</code> returns the size counted in bytes, where the C definition of
``byte'' is ``the size of a char.'' In other words, <code>sizeof(char)</code> is
always 1. (It turns out that it's not necessarily the case, though,
that a byte or a char is 8 bits.) 
</p>

<p>
Strictly, <code>sizeof</code> produces an unsigned integer value whose type,
<code>size_t</code>, is defined in the header <code>&lt;stddef.h&gt;</code>.
</p>

<p>
A <code>sizeof</code> can not be used in a <code>#if</code> line, because the preprocessor
does not parse type names. But the expression in the <code>#define</code> is not
evaluated by the preprocessor.
</p>
</div>
</li>

<li><a id="sec-6-2" name="sec-6-2"></a>page 138<br  /><div class="outline-text-3" id="text-6-2">
<p class="verse">
Don't assume, however, that the size of a structure is the sum of the sizes of its members.<br  />
</p>
<p>
If this isn't the sort of thing you'd be likely to assume, you don't
have to remember the reason, which is mildly esoteric (having to do
with memory alignment requirements).
</p>
</div>
</li>
<li><a id="sec-6-3" name="sec-6-3"></a>page 142<br  /><div class="outline-text-3" id="text-6-3">
<p>
We can test for this in two different ways, either before or after we
make the ``last'' recursive call:
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">treeprint</span>(<span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">tnode</span> *<span style="color: #eedd82;">p</span>)
{
        <span style="color: #00ffff;">if</span>(p-&gt;left != <span style="color: #7fffd4;">NULL</span>)
                treeprint(p-&gt;left);
        printf(<span style="color: #ffa07a;">"%4d %s\n"</span>, p-&gt;count, p-&gt;word);
        <span style="color: #00ffff;">if</span>(p-&gt;right != <span style="color: #7fffd4;">NULL</span>)
                treeprint(p-&gt;right);
}
</pre>
</div>
<p>
or
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">treeprint</span>(<span style="color: #00ffff;">struct</span> <span style="color: #98fb98;">tnode</span> *<span style="color: #eedd82;">p</span>)
{
        <span style="color: #00ffff;">if</span>(p == <span style="color: #7fffd4;">NULL</span>)
                <span style="color: #00ffff;">return</span>;

        treeprint(p-&gt;left);
        printf(<span style="color: #ffa07a;">"%4d %s\n"</span>, p-&gt;count, p-&gt;word);
        treeprint(p-&gt;right);
}
</pre>
</div>
<p>
Sometimes, there's little difference between one approach and the
other. Here, though, the second approach (which is
                equivalent to the code on page 142) has a distinct
                advantage: it will work even if the very first call is
                on an empty tree (in this case, if there were no words
                in the input). As we mentioned earlier, it's extremely
                nice if programs work well at their boundary
                conditions, even if we don't think those conditions
                are likely to occur.
</p>
</div>
</li>

<li><a id="sec-6-4" name="sec-6-4"></a>page 143<br  /><div class="outline-text-3" id="text-6-4">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> <span style="color: #eedd82;">str</span>[] = <span style="color: #ffa07a;">"a"</span>;
<span style="color: #00ffff;">sizeof</span>(str); <span style="color: #ff7f24;">/*</span><span style="color: #ff7f24;">2</span><span style="color: #ff7f24;">*/</span>
strlen(str); <span style="color: #ff7f24;">/*</span><span style="color: #ff7f24;">1</span><span style="color: #ff7f24;">*/</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-6-5" name="sec-6-5"></a>page 146<br  /><div class="outline-text-3" id="text-6-5">
<p>
In effect, <code>typedef</code> is like <code>#define</code>, except that since it is
interpreted by the computer, it can cope with textual substitutions
that are beyond the capabilities of the preprocessor. For example,
</p>

<p>
<code>typedef int (*PFI)(char *, char *);</code>
</p>

<p>
creates the type PFI, for "pointer to function (of two char *
arguments) returning int," which can be used in contexts like
</p>

<p>
<code>PFI strcmp, numcmp;</code>
</p>

<p>
in the sort program.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Chapter 7</h2>
<div class="outline-text-2" id="text-7">
</div><ul class="org-ul"><li><a id="sec-7-1" name="sec-7-1"></a>page 152<br  /><div class="outline-text-3" id="text-7-1">
<p>
Note that the stdio library generally does newline translation for
you. If you know that lines are terminated by a linefeed on Unix and a
carriage return on the Macintosh and a carriage-return/linefeed
combination on MS-DOS, you don't have to worry about these things in
C, because the line termination will always appear to a C program to
be a single '\n'.
</p>
</div>
</li>

<li><a id="sec-7-2" name="sec-7-2"></a>page 154<br  /><div class="outline-text-3" id="text-7-2">
<p>
A width or precision may be specified as *, in which case the value is
computed by converting the next argument (which must be an int). For
example, to print at most max characters from a string s,
</p>

<p>
<code>prinf("%.*s", max, s);</code>
</p>
</div>
</li>

<li><a id="sec-7-3" name="sec-7-3"></a>page 164<br  /><div class="outline-text-3" id="text-7-3">
<p>
Confusingly, <code>gets</code> deletes the terminals '\n', and <code>puts</code> adds it.
</p>
</div>
</li>

<li><a id="sec-7-4" name="sec-7-4"></a>page 166<br  /><div class="outline-text-3" id="text-7-4">
<p>
strstr(s,t)        return pointer to first t in s, or NULL if not present
</p>
</div>
</li>

<li><a id="sec-7-5" name="sec-7-5"></a>page 168(Random Number Gneration)<br  /><div class="outline-text-3" id="text-7-5">
<p>
the code for returning a floating-point random number in the interval [0,1) should be
</p>

<p>
<code>#define frand() ((double) rand() / (RAND_MAX+1.0))</code>
If you want to get random integers from M to N, you can use something like
</p>

<p>
<code>M + (int)(frand() * (N-M+1))</code>
</p>

<p>
``[Setting] the seed for rand'' refers to the fact that, by default,
the sequence of pseudo-random numbers returned by rand is the same
each time your program runs. To randomize it, you can call srand at
the beginning of the program, handing it some truly random number,
such as a value having to do with the time of day. (One way is with
code like
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>
srand((<span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">int</span>)time((<span style="color: #98fb98;">time_t</span> *)<span style="color: #7fffd4;">NULL</span>));
</pre>
</div>
<p>
which uses the time function mentioned on page 256 in appendix B10.)
</p>

<p>
One other caveat about rand: don't try to generate random 0/1 values (to simulate a coin flip, perhaps) with code like
</p>

<p>
<code>rand() % 2</code>
This looks like it ought to work, but it turns out that on some systems rand isn't always perfectly random, and returns values which consistently alternate even, odd, even, odd, etc. (In fact, for similar reasons, you shouldn't usually use rand() % N for any value of N.) A good way to get random 0/1 values would be
<code>(int)(frand() * 2)</code>
based on the other frand() examples above.
</p>
</div>
</li></ul>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Chapter 8</h2>
<div class="outline-text-2" id="text-8">
</div><ul class="org-ul"><li><a id="sec-8-1" name="sec-8-1"></a>page 172<br  /><div class="outline-text-3" id="text-8-1">
<p>
<code>open</code> is rather like the <code>fopen</code> discussed in Chapter 7, except that
instead of returning a file pointer, it returns a file descriptor,
which is just an <code>int</code>.
</p>
</div>
</li></ul>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Appendix A: Reference Manual</h2>
<div class="outline-text-2" id="text-9">
</div><ul class="org-ul"><li><a id="sec-9-1" name="sec-9-1"></a>A2.1 Tokens<br  /><div class="outline-text-3" id="text-9-1">
<p>
There are six classes of tokens: identifiers, keywords, constants,
string literals, operators, and other separators.
</p>
</div>
</li>
<li><a id="sec-9-2" name="sec-9-2"></a>A.2.5.2 Character Constants<br  /><div class="outline-text-3" id="text-9-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Name</th>
<th scope="col" class="left">Abstract</th>
<th scope="col" class="left">character</th>
<th scope="col" class="left">Name</th>
<th scope="col" class="left">Abstract</th>
<th scope="col" class="left">Character</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">newline</td>
<td class="left">NT(LF)</td>
<td class="left">\n</td>
<td class="left">backslash</td>
<td class="left">\</td>
<td class="left">\\</td>
</tr>

<tr>
<td class="left">horizontal tab</td>
<td class="left">HT</td>
<td class="left">\t</td>
<td class="left">question mark</td>
<td class="left">?</td>
<td class="left">\?</td>
</tr>

<tr>
<td class="left">vertical</td>
<td class="left">VT</td>
<td class="left">\v</td>
<td class="left">single quote</td>
<td class="left">'</td>
<td class="left">\'</td>
</tr>

<tr>
<td class="left">backspace</td>
<td class="left">BS</td>
<td class="left">\b</td>
<td class="left">double quote</td>
<td class="left">"</td>
<td class="left">\"</td>
</tr>

<tr>
<td class="left">carriage return</td>
<td class="left">CR</td>
<td class="left">\r</td>
<td class="left">octal number</td>
<td class="left">ooo</td>
<td class="left">\ooo</td>
</tr>

<tr>
<td class="left">audible</td>
<td class="left">BEL</td>
<td class="left">\a</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="sec-9-3" name="sec-9-3"></a>A.8.6.1 Pointer Declarators<br  /><div class="outline-text-3" id="text-9-3">
<p>
In a declaration T D where D has the form
 <code>*</code> type-qualifier-list<sub>opt</sub> D1
and the type of the identifier in the declaration T D1 is ``type-modifier T,'' the type of the
identifier of D is ``type-modifier type-qualifier-list pointer to T.'' Qualifiers following * apply
to pointer itself, rather than to the object to which the pointer points.
</p>

<p>
For example, consider the declaration
int *ap[];
</p>

<p>
Here, ap[] plays the role of D1; a declaration ``int ap[]'' (below) would give ap the type
``array of int,'' the type-qualifier list is empty, and the type-modifier is ``array of.'' Hence the
actual declaration gives ap the type ``array to pointers to int.''
</p>
</div>
</li>
<li><a id="sec-9-4" name="sec-9-4"></a>A.8.8 Type names<br  /><div class="outline-text-3" id="text-9-4">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> 
<span style="color: #98fb98;">int</span> * 
<span style="color: #98fb98;">int</span> *[3]
<span style="color: #98fb98;">int</span> (*)[]
<span style="color: #98fb98;">int</span> *()
<span style="color: #98fb98;">int</span> (*[])(<span style="color: #98fb98;">void</span>)
</pre>
</div>
<p>
name respectively the types ``integer,'' ``pointer to integer,'' ``array of 3 pointers to integers,''
``pointer to an unspecified number of integers,'' ``function of unspecified parameters returning
pointer to integer,'' and ``array, of unspecified size, of pointers to functions with no
parameters each returning an integer.''
</p>
</div>
</li>
<li><a id="sec-9-5" name="sec-9-5"></a>A.12.3 Macro Definition and Expansion<br  /><div class="outline-text-3" id="text-9-5">
<p>
First, if an occurrence of a
parameter in the replacement token sequence is immediately preceded by #, string quotes (")
are placed around the corresponding parameter, and then both the # and the parameter
identifier are replaced by the quoted argument. A \ character is inserted before each " or \
character that appears surrounding, or inside, a string literal or character constant in the
argument.
</p>

<p>
Second, if the definition token sequence for either kind of macro contains a ## operator, then
just after replacement of the parameters, each ## is deleted, together with any white space on
either side, so as to concatenate the adjacent tokens and form a new token. The effect is
undefined if invalid tokens are produced, or if the result depends on the order of processing of
the ## operators. Also, ## may not appear at the beginning or end of a replacement token
sequence.
</p>

<p>
Given the definition
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#define</span> <span style="color: #87cefa;">tempfile</span>(<span style="color: #eedd82;">dir</span>) #dir <span style="color: #ffa07a;">"%s"</span>
</pre>
</div>
<p>
the macro call <code>tempfile(/usr/tmp)</code> yields
</p>

<p>
"/usr/tmp" "%s"
</p>

<p>
which will subsequently be catenated into a single string. After
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#define</span> <span style="color: #87cefa;">cat</span>(<span style="color: #eedd82;">x</span>, <span style="color: #eedd82;">y</span>) x ## y
</pre>
</div>

<p>
the call <code>cat(var, 123)</code> yields var123. However, the call <code>cat(cat(1,2),3)</code> is undefined:
the presence of ## prevents the arguments of the outer call from being expanded. Thus it
produces the token string
</p>

<p>
<code>cat ( 1 , 2 )3</code>
</p>

<p>
and )3 (the catenation of the last token of the first argument with the first token of the second)
is not a legal token. If a second level of macro definition is
introduced,
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#define</span> <span style="color: #87cefa;">xcat</span>(<span style="color: #eedd82;">x</span>, <span style="color: #eedd82;">y</span>)  cat(x,y)
</pre>
</div>
<p>
things work more smoothly; <code>xcat(xcat(1, 2), 3)</code> does produce 123, because the
expansion of xcat itself does not involve the ## operator.
</p>
</div>
</li>
<li><a id="sec-9-6" name="sec-9-6"></a>A.12.7 Error Generation<br  /><div class="outline-text-3" id="text-9-6">
<p>
A preprocessor line of the form
</p>
<p>
causes the preprocessor to write a diagnostic message that includes the token sequence.
</p>
</div>
</li>
<li><a id="sec-9-7" name="sec-9-7"></a>A.12.8 Pragmas<br  /><div class="outline-text-3" id="text-9-7">
<p>
A control line of the form
</p>
<p>
causes the preprocessor to perform an implementation-dependent action. An unrecognized
pragma is ignored.
</p>
</div>
</li>
<li><a id="sec-9-8" name="sec-9-8"></a>A.12.10 Predefined names<br  /><div class="outline-text-3" id="text-9-8">
<p>
Several identifiers are predefined, and expand to produce special information. They, and also
the preprocessor expansion operator defined, may not be undefined or
redefined.
</p>

<ul class="org-ul">
<li><span class="underline"><span class="underline">LINE</span></span> A decimal constant containing the current source line number.
</li>
<li><span class="underline"><span class="underline">FILE</span></span> A string literal containing the name of the file being compiled.
</li>
<li><span class="underline"><span class="underline">DATE</span></span> A string literal containing the date of compilation, in the form "Mmmm dd yyyy"
</li>
<li><span class="underline"><span class="underline">TIME</span></span> A string literal containing the time of compilation, in the form "hh:mm:ss"
</li>
<li><span class="underline"><span class="underline">STDC</span></span> The constant 1. It is intended that this identifier be
defined to be 1 only in standard-conforming implementations.
</li>
</ul>
</div>
</li></ul>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Appendix B - Standard Library</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">

<pre class="src src-c">&lt;assert.h&gt; &lt;ctype.h&gt; &lt;errno.h&gt; &lt;<span style="color: #98fb98;">float</span>.h&gt; &lt;limits.h&gt;
&lt;locale.h&gt; &lt;math.h&gt; &lt;setjmp.h&gt; &lt;signal.h&gt; &lt;stdarg.h&gt;
&lt;stddef.h&gt; &lt;stdio.h&gt; &lt;stdlib.h&gt; &lt;string.h&gt; &lt;time.h&gt;
</pre>
</div>
</div>
<ul class="org-ul"><li><a id="sec-10-1" name="sec-10-1"></a>B.2 Character Class Tests: &lt;ctype.h&gt;<br  /><div class="outline-text-3" id="text-10-1">
<div class="org-src-container">

<pre class="src src-c">isalnum(c) isalpha(c) <span style="color: #98fb98;">or</span> <span style="color: #87cefa;">isdigit</span>(<span style="color: #98fb98;">c</span>) is <span style="color: #7fffd4;">true</span>
isalpha(c)
isupper(c) <span style="color: #98fb98;">or</span> <span style="color: #87cefa;">islower</span>(<span style="color: #98fb98;">c</span>) is <span style="color: #7fffd4;">true</span>
iscntrl(c) control <span style="color: #98fb98;">character</span>
<span style="color: #87cefa;">isdigit</span>(<span style="color: #98fb98;">c</span>) decimal <span style="color: #98fb98;">digit</span>
<span style="color: #87cefa;">isgraph</span>(<span style="color: #98fb98;">c</span>) printing <span style="color: #98fb98;">character</span> except <span style="color: #98fb98;">space</span>
<span style="color: #87cefa;">islower</span>(<span style="color: #98fb98;">c</span>) lower-<span style="color: #00ffff;">case</span> letter
isprint(c) printing <span style="color: #98fb98;">character</span> including <span style="color: #98fb98;">space</span>
<span style="color: #87cefa;">ispunct</span>(<span style="color: #98fb98;">c</span>) printing <span style="color: #98fb98;">character</span> except <span style="color: #98fb98;">space</span> <span style="color: #98fb98;">or</span> letter <span style="color: #98fb98;">or</span> <span style="color: #98fb98;">digit</span>
<span style="color: #87cefa;">isspace</span>(<span style="color: #98fb98;">c</span>) space, formfeed, newline, carriage <span style="color: #00ffff;">return</span>, tab, vertical <span style="color: #98fb98;">tab</span>
<span style="color: #87cefa;">isupper</span>(<span style="color: #98fb98;">c</span>) upper-<span style="color: #00ffff;">case</span> letter
isxdigit(c) hexadecimal <span style="color: #98fb98;">digit</span>
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">tolower</span>(<span style="color: #98fb98;">c</span>) convert <span style="color: #98fb98;">c</span> <span style="color: #98fb98;">to</span> <span style="color: #87cefa;">lower</span> <span style="color: #00ffff;">case</span>
<span style="color: #98fb98;">int</span> toupper(c) convert <span style="color: #98fb98;">c</span> <span style="color: #98fb98;">to</span> <span style="color: #eedd82;">upper</span> <span style="color: #00ffff;">case</span>
</pre>
</div>
</div>
</li>
<li><a id="sec-10-2" name="sec-10-2"></a>B.5 Utility Functions: &lt;stdlib.h&gt;<br  /><div class="outline-text-3" id="text-10-2">
<div class="org-src-container">

<pre class="src src-c">+ <span style="color: #98fb98;">double</span> atof(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>) atof converts s <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">double</span>; it is equivalent <span style="color: #98fb98;">to</span> <span style="color: #87cefa;">strtod</span>(<span style="color: #98fb98;">s</span>, (<span style="color: #98fb98;">char</span>**)<span style="color: #7fffd4;">NULL</span>).
+ <span style="color: #98fb98;">int</span> atoi(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>) converts <span style="color: #98fb98;">s</span> <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">int</span>; it is <span style="color: #98fb98;">equivalent</span> <span style="color: #87cefa;">to</span> (<span style="color: #98fb98;">int</span>)strtol(s, (<span style="color: #98fb98;">char</span>**)<span style="color: #7fffd4;">NULL</span>, 10).
+ <span style="color: #98fb98;">long</span> atol(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>) converts <span style="color: #98fb98;">s</span> <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">long</span>; it is <span style="color: #98fb98;">equivalent</span> <span style="color: #98fb98;">to</span> <span style="color: #87cefa;">strtol</span>(<span style="color: #98fb98;">s</span>, (<span style="color: #98fb98;">char</span>**)<span style="color: #7fffd4;">NULL</span>, 10).
+ <span style="color: #98fb98;">double</span> strtod(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>, <span style="color: #98fb98;">char</span> **<span style="color: #eedd82;">endp</span>) strtod converts the prefix
  of <span style="color: #98fb98;">s</span> <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">double</span>, ignoring leading <span style="color: #98fb98;">white</span> <span style="color: #eedd82;">space</span>; it stores a pointer <span style="color: #98fb98;">to</span>
  any unconverted suffix <span style="color: #98fb98;">in</span> *<span style="color: #eedd82;">endp</span> unless endp is <span style="color: #7fffd4;">NULL</span>. If the answer
  would overflow, <span style="color: #eedd82;">HUGE_VAL</span> is returned with the proper sign; <span style="color: #00ffff;">if</span> the
  answer would underflow, zero <span style="color: #98fb98;">is</span> <span style="color: #87cefa;">returned</span>. In either <span style="color: #00ffff;">case</span> errno is set to ERANGE.
+ <span style="color: #98fb98;">long</span> strtol(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>, <span style="color: #98fb98;">char</span> **<span style="color: #eedd82;">endp</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">base</span>) strtol converts
  the prefix of <span style="color: #98fb98;">s</span> <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">long</span>, ignoring leading <span style="color: #98fb98;">white</span> <span style="color: #eedd82;">space</span>; it stores a
  pointer <span style="color: #98fb98;">to</span> any unconverted suffix <span style="color: #98fb98;">in</span> *<span style="color: #eedd82;">endp</span> unless endp is <span style="color: #7fffd4;">NULL</span>. If
  base is between 2 and 36, <span style="color: #eedd82;">conversion</span> is done assuming that the input
  is written in that base. If base is zero, <span style="color: #eedd82;">the</span> base is 8, 10, or 16;
  leading 0 implies octal and leading 0x or 0X hexadecimal. Letters in
  either <span style="color: #00ffff;">case</span> represent digits from 10 to base-1; <span style="color: #98fb98;">a</span> <span style="color: #eedd82;">leading</span> 0x or 0X
  is permitted in base 16. If the answer would overflow, <span style="color: #eedd82;">LONG_MAX</span> or
  LONG_MIN is returned, <span style="color: #eedd82;">depending</span> on the sign of the result, <span style="color: #87cefa;">and</span> errno
  is set to ERANGE.
+ <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">long</span> strtoul(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>, <span style="color: #98fb98;">char</span> **<span style="color: #eedd82;">endp</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">base</span>)  strtoul
  <span style="color: #98fb98;">is</span> the same as strtol except that the result <span style="color: #98fb98;">is</span> <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">long</span> and
  the error value <span style="color: #98fb98;">is</span> <span style="color: #87cefa;">ULONG_MAX</span>.
+ <span style="color: #98fb98;">int</span> rand(<span style="color: #98fb98;">void</span>) rand returns <span style="color: #98fb98;">a</span> <span style="color: #eedd82;">pseudo</span>-random integer in the range 0
  to RAND_MAX, <span style="color: #87cefa;">which</span> is at least 32767.
+ <span style="color: #98fb98;">void</span> srand(<span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">seed</span>) srand uses seed as <span style="color: #98fb98;">the</span> <span style="color: #87cefa;">seed</span> <span style="color: #00ffff;">for</span> a new
  sequence of pseudo-random numbers. The initial seed is 1.
+ <span style="color: #98fb98;">void</span> *calloc(<span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">nobj</span>, <span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">size</span>) calloc returns <span style="color: #98fb98;">a</span> pointer <span style="color: #98fb98;">to</span>
  <span style="color: #eedd82;">space</span> <span style="color: #00ffff;">for</span> an array of nobj objects, <span style="color: #eedd82;">each</span> of size size, <span style="color: #87cefa;">or</span> <span style="color: #7fffd4;">NULL</span> <span style="color: #00ffff;">if</span>
  the request cannot be satisfied. The space is initialized to zero
  bytes.

+ <span style="color: #98fb98;">void</span> *malloc(<span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">size</span>) malloc returns <span style="color: #98fb98;">a</span> pointer <span style="color: #98fb98;">to</span> <span style="color: #eedd82;">space</span> <span style="color: #00ffff;">for</span> an
  object of size size, <span style="color: #87cefa;">or</span> <span style="color: #7fffd4;">NULL</span> <span style="color: #00ffff;">if</span> the request cannot be satisfied. The space is uninitialized.
+ <span style="color: #98fb98;">void</span> *realloc(<span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">p</span>, <span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">size</span>) realloc changes <span style="color: #98fb98;">the</span> size of <span style="color: #98fb98;">the</span>
  object pointed <span style="color: #98fb98;">to</span> by p <span style="color: #98fb98;">to</span> <span style="color: #eedd82;">size</span>. The contents will be unchanged up to
  the minimum of the old and new sizes. If the new size is larger, <span style="color: #eedd82;">the</span>
  new space is uninitialized. realloc returns a pointer to the new
  space, <span style="color: #eedd82;">or</span> <span style="color: #7fffd4;">NULL</span> <span style="color: #00ffff;">if</span> the request cannot be satisfied, <span style="color: #87cefa;">in</span> which <span style="color: #00ffff;">case</span> *p is unchanged.
+ <span style="color: #98fb98;">void</span> free(<span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">p</span>)  free deallocates <span style="color: #98fb98;">the</span> space pointed <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">by</span> <span style="color: #eedd82;">p</span>; it
  <span style="color: #98fb98;">does</span> <span style="color: #eedd82;">nothing</span> <span style="color: #00ffff;">if</span> p is <span style="color: #7fffd4;">NULL</span>. p must be a pointer to space previously
  allocated by calloc, <span style="color: #eedd82;">malloc</span>, <span style="color: #87cefa;">or</span> realloc.

+ <span style="color: #98fb98;">void</span> abort(<span style="color: #98fb98;">void</span>)  abort causes <span style="color: #98fb98;">the</span> program <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">terminate</span> <span style="color: #eedd82;">abnormally</span>, <span style="color: #87cefa;">as</span> <span style="color: #00ffff;">if</span> by raise(SIGABRT).
+ <span style="color: #98fb98;">void</span> exit(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">status</span>) exit causes normal <span style="color: #98fb98;">program</span> <span style="color: #eedd82;">termination</span>. atexit
  functions are called in reverse order of registration, <span style="color: #eedd82;">open</span> files
  are flushed, <span style="color: #eedd82;">open</span> streams are closed, <span style="color: #eedd82;">and</span> control is returned to the
  environment. How status is returned to the environment is
  implementation- dependent, <span style="color: #87cefa;">but</span> zero is taken as successful
  termination. The values EXIT_SUCCESS and EXIT_FAILURE may also be used.
+ <span style="color: #98fb98;">int</span> atexit(<span style="color: #98fb98;">void</span> (*<span style="color: #eedd82;">fcn</span>)(<span style="color: #98fb98;">void</span>))  atexit registers <span style="color: #98fb98;">the</span> function fcn <span style="color: #98fb98;">to</span>
  be called when <span style="color: #98fb98;">the</span> <span style="color: #98fb98;">program</span> <span style="color: #98fb98;">terminates</span> <span style="color: #eedd82;">normally</span>; it <span style="color: #98fb98;">returns</span> <span style="color: #87cefa;">non</span>-zero
  <span style="color: #00ffff;">if</span> the registration cannot be made.

+ <span style="color: #98fb98;">int</span> system(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">s</span>)  system passes <span style="color: #98fb98;">the</span> string <span style="color: #98fb98;">s</span> <span style="color: #98fb98;">to</span> <span style="color: #98fb98;">the</span>
  <span style="color: #eedd82;">environment</span> <span style="color: #00ffff;">for</span> execution. If s is <span style="color: #7fffd4;">NULL</span>, <span style="color: #eedd82;">system</span> returns non-zero <span style="color: #00ffff;">if</span>
  there is a command processor. If s is not <span style="color: #7fffd4;">NULL</span>, <span style="color: #87cefa;">the</span> <span style="color: #00ffff;">return</span> value is
  implementation-dependent.

+ <span style="color: #98fb98;">char</span> *getenv(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">name</span>)  getenv <span style="color: #98fb98;">returns</span> <span style="color: #98fb98;">the</span> environment
  string associated <span style="color: #98fb98;">with</span> <span style="color: #eedd82;">name</span>, <span style="color: #87cefa;">or</span> <span style="color: #7fffd4;">NULL</span> <span style="color: #00ffff;">if</span> no string exists. Details are implementation-dependent.
+ <span style="color: #98fb98;">void</span> *bsearch(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">key</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">base</span>, <span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">size_t</span>
  <span style="color: #eedd82;">size</span>, <span style="color: #98fb98;">int</span> (*<span style="color: #eedd82;">cmp</span>)(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">keyval</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">datum</span>)) bsearch
  <span style="color: #98fb98;">searches</span> <span style="color: #eedd82;">base</span>[0]...base[n-1] <span style="color: #00ffff;">for</span> an item that matches *key. The
  function cmp must <span style="color: #00ffff;">return</span> negative <span style="color: #00ffff;">if</span> its first argument (<span style="color: #98fb98;">the</span> <span style="color: #98fb98;">search</span>
  <span style="color: #eedd82;">key</span>) <span style="color: #98fb98;">is</span> less than <span style="color: #98fb98;">its</span> <span style="color: #87cefa;">second</span> (<span style="color: #98fb98;">a</span> <span style="color: #98fb98;">table</span> <span style="color: #eedd82;">entry</span>), <span style="color: #eedd82;">zero</span> <span style="color: #00ffff;">if</span> equal, <span style="color: #eedd82;">and</span>
  positive <span style="color: #00ffff;">if</span> greater. Items in the array base must be in ascending
  order. bsearch returns a pointer to a matching item, <span style="color: #87cefa;">or</span> <span style="color: #7fffd4;">NULL</span> <span style="color: #00ffff;">if</span> none
  exists.

+ <span style="color: #98fb98;">void</span> qsort(<span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">base</span>, <span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">size_t</span> <span style="color: #eedd82;">size</span>, <span style="color: #98fb98;">int</span> (*<span style="color: #eedd82;">cmp</span>)(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span>
  *, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *)) qsort sorts into ascending order an <span style="color: #98fb98;">array</span>
  <span style="color: #eedd82;">base</span>[0]...base[n-1] of objects of size size. The comparison function cmp is as in bsearch.
+ <span style="color: #98fb98;">int</span> abs(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>) abs <span style="color: #98fb98;">returns</span> <span style="color: #98fb98;">the</span> absolute value of <span style="color: #98fb98;">its</span> <span style="color: #98fb98;">int</span> <span style="color: #87cefa;">argument</span>.
+ <span style="color: #98fb98;">long</span> labs(<span style="color: #98fb98;">long</span> <span style="color: #eedd82;">n</span>) labs <span style="color: #98fb98;">returns</span> <span style="color: #98fb98;">the</span> absolute value of <span style="color: #98fb98;">its</span> <span style="color: #98fb98;">long</span> <span style="color: #87cefa;">argument</span>.
+ div_t div(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">num</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">denom</span>) div computes <span style="color: #98fb98;">the</span> quotient and
  remainder <span style="color: #98fb98;">of</span> <span style="color: #87cefa;">num</span>/denom. The results are stored in the <span style="color: #98fb98;">int</span> members
  quot and rem of a structure of type div_t.

+ ldiv_t ldiv(<span style="color: #98fb98;">long</span> <span style="color: #eedd82;">num</span>, <span style="color: #98fb98;">long</span> <span style="color: #eedd82;">denom</span>) ldiv computes <span style="color: #98fb98;">the</span> quotient and
  remainder <span style="color: #98fb98;">of</span> <span style="color: #eedd82;">num</span>/denom. The results are stored in the <span style="color: #98fb98;">long</span> members
  quot and rem of a structure of type ldiv_t
</pre>
</div>
</div>
</li>


<li><a id="sec-10-3" name="sec-10-3"></a>B.7 Variable Argument Lists: &lt;stdarg.h&gt;<br  /><div class="outline-text-3" id="text-10-3">
<p>
The header &lt;stdarg.h&gt; provides facilities for stepping through a list of function arguments
of unknown number and type.
</p>
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">ap</span>;
va_start(<span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">ap</span>, lastarg);
<span style="color: #98fb98;">type</span> <span style="color: #87cefa;">va_arg</span>(<span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">ap</span>, <span style="color: #98fb98;">type</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">va_end</span>(<span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">ap</span>);
</pre>
</div>
</div>
</li>
<li><a id="sec-10-4" name="sec-10-4"></a>B.8 Non-local Jumps: &lt;setjmp.h&gt;<br  /><div class="outline-text-3" id="text-10-4">
<p>
The declarations in &lt;setjmp.h&gt; provide a way to avoid the normal function call and return
sequence, typically to permit an immediate return from a deeply nested function call.
</p>
<ul class="org-ul">
<li>int setjmp(jmp<sub>buf</sub> env)
</li>
</ul>

<p>
The macro setjmp saves state information in env for use by longjmp. The return is
zero from a direct call of setjmp, and non-zero from a subsequent call of longjmp. A
call to setjmp can only occur in certain contexts, basically the test of if, switch, and
loops, and only in simple relational expressions.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span> (setjmp(env) == 0)
<span style="color: #ff7f24;">/* </span><span style="color: #ff7f24;">get here on direct call </span><span style="color: #ff7f24;">*/</span>
<span style="color: #00ffff;">else</span>
<span style="color: #ff7f24;">/* </span><span style="color: #ff7f24;">get here by calling longjmp </span><span style="color: #ff7f24;">*/</span>
</pre>
</div>

<ul class="org-ul">
<li>void longjmp(jmp<sub>buf</sub> env, int val)
</li>
</ul>

<p>
longjmp restores the state saved by the most recent call to setjmp, using the
information saved in env, and execution resumes as if the setjmp function had just
executed and returned the non-zero value val. The function containing the setjmp
must not have terminated. Accessible objects have the values they had at the time
longjmp was called, except that non-volatile automatic variables in the function
calling setjmp become undefined if they were changed after the setjmp call.
</p>
</div>
</li>

<li><a id="sec-10-5" name="sec-10-5"></a>B.9 Signals: &lt;signal.h&gt;<br  /><div class="outline-text-3" id="text-10-5">
<p>
The header &lt;signal.h&gt; provides facilities for handling exceptional conditions that arise
during execution, such as an interrupt signal from an external source
or an error in execution.
</p>

<p>
<code>void (*signal(int sig, void (*handler)(int)))(int)</code>
</p>

<p>
signal determines how subsequent signals will be handled. If handler is SIG<sub>DFL</sub>, the
implementation-defined default behavior is used, if it is SIG<sub>IGN</sub>, the signal is ignored;
otherwise, the function pointed to by handler will be called, with the argument of the type of
signal. Valid signals include
</p>
<p class="verse">
SIGABRT abnormal termination, e.g., from abort<br  />
SIGFPE arithmetic error, e.g., zero divide or overflow<br  />
SIGILL illegal function image, e.g., illegal instruction<br  />
SIGINT interactive attention, e.g., interrupt<br  />
SIGSEGV illegal storage access, e.g., access outside memory limits<br  />
SIGTERM termination request sent to this program<br  />
</p>
<p>
signal returns the previous value of handler for the specific signal, or SIG<sub>ERR</sub> if an error
occurs.
</p>

<p>
The initial state of signals is implementation-defined.
<code>int raise(int sig)</code>
raise sends the signal sig to the program; it returns non-zero if unsuccessful.
</p>
</div>
</li>
<li><a id="sec-10-6" name="sec-10-6"></a>B.11 Implementation-defined Limits: &lt;limits.h&gt; and &lt;float.h&gt;<br  /><div class="outline-text-3" id="text-10-6">
<p>
The header &lt;limits.h&gt; defines constants for the sizes of integral types.
The values below are acceptable minimum magnitudes; larger values may be
used.
</p>
<div class="org-src-container">

<pre class="src src-c">CHAR_BIT 8 bits in a <span style="color: #98fb98;">char</span>
CHAR_MAX UCHAR_MAX or SCHAR_MAX maximum value of <span style="color: #98fb98;">char</span>
CHAR_MIN 0 or SCHAR_MIN maximum value of <span style="color: #98fb98;">char</span>
INT_MAX 32767 maximum value of <span style="color: #98fb98;">int</span>
INT_MIN -32767 minimum value of <span style="color: #98fb98;">int</span>
LONG_MAX 2147483647 maximum value of <span style="color: #98fb98;">long</span>
LONG_MIN -2147483647 minimum value of <span style="color: #98fb98;">long</span>
SCHAR_MAX +127 maximum value of <span style="color: #98fb98;">signed</span> <span style="color: #98fb98;">char</span>
SCHAR_MIN -127 minimum value of <span style="color: #98fb98;">signed</span> <span style="color: #98fb98;">char</span>
SHRT_MAX +32767 maximum value of <span style="color: #98fb98;">short</span>
SHRT_MIN -32767 minimum value of <span style="color: #98fb98;">short</span>
UCHAR_MAX 255 maximum value of <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">char</span>
UINT_MAX 65535 maximum value of <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">int</span>
ULONG_MAX 4294967295 maximum value of <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">long</span>
USHRT_MAX 65535 maximum value of <span style="color: #98fb98;">unsigned</span> <span style="color: #98fb98;">short</span>
</pre>
</div>
<p>
The names in the table below, a subset of &lt;float.h&gt;, are constants related
to floating-point arithmetic. When a value is given, it represents the
minimum magnitude for the corresponding quantity. Each implementation
defines appropriate values.
</p>
<div class="org-src-container">

<pre class="src src-c">FLT_RADIX  2  radix of exponent, representation, e.g., 2, 16
FLT_ROUNDS    floating-point rounding mode <span style="color: #00ffff;">for</span> addition
FLT_DIG    6  decimal digits of precision
FLT_EPSILON 1E-5 smallest number x such that 1.0+x != 1.0 
FLT_MANT_DIG   number of base FLT_RADIX in mantissa
FLT_MAX 1E+37 maximum floating-point number 
FLT_MAX_EXP  maximum n such that FLT_RADIX(n-1) is <span style="color: #98fb98;">representable</span>
<span style="color: #87cefa;">FLT_MIN</span> 1E-37 minimum normalized floating-point number
FLT_MIN_EXP  minimum n such that 10(n) is a normalized <span style="color: #98fb98;">number</span>
<span style="color: #eedd82;">DBL_DIG</span> 10 decimal digits of precision
DBL_EPSILON 1E-9 smallest number x such that 1.0+x != 1.0
DBL_MANT_DIG  number of base FLT_RADIX in mantissa
DBL_MAX  1E+37  maximum <span style="color: #98fb98;">double</span> floating-point number
DBL_MAX_EXP  maximum n such that FLT_RADIX(n-1) is <span style="color: #98fb98;">representable</span>
<span style="color: #eedd82;">DBL_MIN</span>  1E-37  minimum normalized <span style="color: #98fb98;">double</span> floating-point number
DBL_MIN_EXP minimum normalized <span style="color: #98fb98;">double</span> floating-point number
</pre>
</div>
</div>
</li></ul>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Shi Shougang</p>
<p class="date">Created: 2015-03-05 Thu 23:21</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.3.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
